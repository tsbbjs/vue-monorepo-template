import{f as b}from"./rehype-prism-plus-cf0bb656.js";import{w as P,v as A,r as C,a as T,b as I,c as E,d as L}from"./rehype-5f82f031.js";import{f as O,b as U,c as j,s as H,d as R,h as B,u as M,r as F,i as V,j as z}from"./unified-a6a0231f.js";import{h as m,F as y,i as D,d as _,T as G,c as $}from"./vue-82458acb.js";import{V as q}from"./micromark-extension-14097367.js";function p(){return p=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},p.apply(this,arguments)}function J(){return{type:"element",tagName:"span",properties:{class:"octicon octicon-link"},children:[]}}/*!
 * @uiw/copy-to-clipboard v1.0.12
 * Copy to clipboard.
 * 
 * Copyright (c) 2021 Kenny Wang
 * https://github.com/uiwjs/copy-to-clipboard.git
 * 
 * Licensed under the MIT license.
 */function K(e,r){const i=document.createElement("textarea");i.value=e,i.setAttribute("readonly",""),i.style={position:"absolute",left:"-9999px"},document.body.appendChild(i);const n=document.getSelection().rangeCount>0?document.getSelection().getRangeAt(0):!1;i.select();let a=!1;try{a=!!document.execCommand("copy")}catch{a=!1}document.body.removeChild(i),n&&document.getSelection&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(n)),r&&r(a)}function Q(e){return e===void 0&&(e=""),{type:"element",tagName:"div",properties:{onClick:r=>{var{target:i}=r;i.classList.add("active"),K(e,function(){setTimeout(()=>{i.classList.remove("active")},2e3)})},class:"copied"},children:[{type:"element",tagName:"svg",properties:{class:"octicon-copy",ariaHidden:"true",viewBox:"0 0 16 16",fill:"currentColor",height:12,width:12},children:[{type:"element",tagName:"path",properties:{fillRule:"evenodd",d:"M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"},children:[]},{type:"element",tagName:"path",properties:{fillRule:"evenodd",d:"M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"},children:[]}]},{type:"element",tagName:"svg",properties:{class:"octicon-check",ariaHidden:"true",viewBox:"0 0 16 16",fill:"currentColor",height:12,width:12},children:[{type:"element",tagName:"path",properties:{fillRule:"evenodd",d:"M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"},children:[]}]}]}}var v={}.hasOwnProperty,W=new Set(["table","thead","tbody","tfoot","tr"]);function x(e,r){for(var i=[],n=-1,a;++n<e.children.length;)a=e.children[n],a.type==="element"?i.push(X(r,a,n,e)):a.type==="text"?(e.type!=="element"||!W.has(e.tagName)||!P(a))&&i.push(a.value):a.type==="raw"&&!r.skipHtml&&i.push(a.value);return i}function X(e,r,i,n){var a=e.schema,t=r.tagName,l={},f=a,o;if(a.space==="html"&&t==="svg"&&(f=H,e.schema=f),r.properties)for(o in r.properties)v.call(r.properties,o)&&re(l,o,r.properties[o],e);(t==="ol"||t==="ul")&&e.listDepth++;var c=x(r,e);(t==="ol"||t==="ul")&&e.listDepth--,e.schema=a;var N=r.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},u=e.components&&v.call(e.components,t)?e.components[t]:t,s=typeof u=="string"||u===y;if(t==="a"&&e.linkTarget&&(l.target=typeof e.linkTarget=="function"?e.linkTarget(String(l.href||""),r.children,typeof l.title=="string"?l.title:null):e.linkTarget),t==="a"&&e.transformLinkUri&&(l.href=e.transformLinkUri(String(l.href||""),r.children,typeof l.title=="string"?l.title:null)),!s&&t==="code"&&n.type==="element"&&n.tagName!=="pre"&&(l.inline=!0),!s&&(t==="h1"||t==="h2"||t==="h3"||t==="h4"||t==="h5"||t==="h6")&&(l.level=Number.parseInt(t.charAt(1),10)),t==="img"&&e.transformImageUri&&(l.src=e.transformImageUri(String(l.src||""),String(l.alt||""),typeof l.title=="string"?l.title:null)),!s&&t==="li"&&n.type==="element"){var h=Y(r);l.checked=h&&h.properties?!!h.properties.checked:null,l.index=g(n,r),l.ordered=n.tagName==="ol"}if(!s&&(t==="ol"||t==="ul")&&(l.ordered=t==="ol",l.depth=e.listDepth),(t==="td"||t==="th")&&(l.align&&(l.style||(l.style={}),l.style.textAlign=l.align,delete l.align),s||(l.isHeader=t==="th")),!s&&t==="tr"&&n.type==="element"&&(l.isHeader=n.tagName==="thead"),e.sourcePos&&(l["data-sourcepos"]=Z(N)),!s&&e.rawSourcePos&&(l.sourcePosition=r.position),!s&&e.includeElementIndex&&(l.index=g(n,r),l.siblingCount=g(n)),s||(l.node=r),typeof u=="function"){var S=p({node:r,children:c?m(y,c):void 0},l),d=u(S);if(d&&D(d))return d}if(typeof u=="string")return c.length>0?m(u,l,c):m(u,l)}function Y(e){for(var r=-1;++r<e.children.length;){var i=e.children[r];if(i.type==="element"&&i.tagName==="input")return i}return null}function g(e,r){for(var i=-1,n=0;++i<e.children.length&&e.children[i]!==r;)e.children[i].type==="element"&&n++;return n}function Z(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(r=>String(r)).join("")}function ee(e){var r={};try{R(e,i)}catch{}return r;function i(n,a){var t=n.slice(0,4)==="-ms-"?"ms-"+n.slice(4):n;r[t.replace(/-([a-z])/g,te)]=a}}function te(e,r){return r.toUpperCase()}function re(e,r,i,n){var a=O(n.schema,r),t=i;t==null||t!==t||(Array.isArray(t)&&(t=a.commaSeparated?U(t):j(t)),a.property==="style"&&typeof t=="string"&&(t=ee(t)),a.attribute&&(e[a.attribute]=t))}var w=["http","https","mailto","tel"];function k(e){var r=(e||"").trim(),i=r.charAt(0);if(i==="#"||i==="/")return r;var n=r.indexOf(":");if(n===-1)return r;for(var a=-1;++a<w.length;){var t=w[a];if(n===t.length&&r.slice(0,t.length).toLowerCase()===t)return r}return a=r.indexOf("?"),a!==-1&&n>a||(a=r.indexOf("#"),a!==-1&&n>a)?r:"javascript:void(0)"}var ie=e=>r=>{A(r,"element",(i,n,a)=>{i.tagName==="code"&&(a==null?void 0:a.type)==="element"&&a.tagName==="pre"&&i.properties&&"className"in i.properties&&Array.isArray(i.properties.className)&&(i.properties.className=i.properties.className.map(t=>typeof t=="string"?t.replace(/^language-vue/,"language-html"):t))})},ae={rehypePlugins:{type:Object,default:[]},remarkPlugins:{type:Object,default:[]},components:{type:Object,default:{}},source:{type:String,default:""},sourcePos:{type:Boolean,default:!1},rawSourcePos:{type:Boolean,default:!1},includeElementIndex:{type:Boolean,default:!1},skipHtml:{type:Boolean,default:!1},linkTarget:{type:[Function,String]},transformLinkUri:{type:Function,default:k},transformImageUri:{type:Function,default:k}},ne=function e(r,i){return r===void 0&&(r=[]),i===void 0&&(i=""),r.forEach(n=>{n.type==="text"?i+=n.value:n.type==="element"&&n.children&&Array.isArray(n.children)&&(i+=e(n.children))}),i};const fe=_({name:"MarkdownPreview",props:ae,setup(e,r){var{slots:i}=r;function n(){return M().use(F).use(V).use(e.remarkPlugins||[]).use(z,{allowDangerousHtml:!0}).use(C,{properties:"attr"}).use(T).use(ie).use(I).use(E).use(b,{ignoreMissing:!0}).use(L,{rewrite:a=>{if(a.type=="element"&&/h(1|2|3|4|5|6)/.test(a.tagName)&&a.children&&Array.isArray(a.children)&&a.children.length>0){var t=a.children[0];t&&t.type==="element"&&t.properties&&(t.properties=p({className:"anchor"},t.properties),t.children=[J()])}if(a.type==="element"&&a.tagName==="pre"){var l=ne(a.children);a.children.push(Q(l))}}}).use(e.rehypePlugins||[])}return()=>{var a=i&&i.default?i.default().filter(c=>c.type===G).map(c=>c.children):[],t=new q;t.value=a&&a.length>0?a.join():e.source;var l=n(),f=l.runSync(l.parse(t),t);if(f.type!=="root")throw new TypeError("Expected a `root` node");var o=m(y,{},x(f,{listDepth:0,schema:B,components:e.components,sourcePos:e.sourcePos,rawSourcePos:e.rawSourcePos,includeElementIndex:e.includeElementIndex,skipHtml:e.skipHtml,linkTarget:e.linkTarget,transformLinkUri:e.transformLinkUri,transformImageUri:e.transformImageUri}));return $("div",{class:"markdown-body"},[o])}}});export{fe as M,p as _};
