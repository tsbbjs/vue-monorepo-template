import{T as fn}from"./unified-152f8c8b.js";function W(n,i,t,r){const u=n.length;let a=0,e;if(i<0?i=-i>u?0:u+i:i=i>u?u:i,t=t>0?t:0,r.length<1e4)e=Array.from(r),e.unshift(i,t),n.splice(...e);else for(t&&n.splice(i,t);a<r.length;)e=r.slice(a,a+1e4),e.unshift(i,0),n.splice(...e),a+=1e4,i+=1e4}function N(n,i){return n.length>0?(W(n,n.length,0,i),n):i}const gn={}.hasOwnProperty;function Tn(n){const i={};let t=-1;for(;++t<n.length;)Mn(i,n[t]);return i}function Mn(n,i){let t;for(t in i){const u=(gn.call(n,t)?n[t]:void 0)||(n[t]={}),a=i[t];let e;if(a)for(e in a){gn.call(u,e)||(u[e]=[]);const l=a[e];Pn(u[e],Array.isArray(l)?l:l?[l]:[])}}}function Pn(n,i){let t=-1;const r=[];for(;++t<i.length;)(i[t].add==="after"?n:r).push(i[t]);W(n,0,0,r)}const Rn=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,T=Z(/[A-Za-z]/),B=Z(/[\dA-Za-z]/),jn=Z(/[#-'*+\--9=?A-Z^-~]/);function en(n){return n!==null&&(n<32||n===127)}const on=Z(/\d/),qn=Z(/[\dA-Fa-f]/),_n=Z(/[!-/:-@[-`{-~]/);function A(n){return n!==null&&n<-2}function w(n){return n!==null&&(n<0||n===32)}function C(n){return n===-2||n===-1||n===32}const mn=Z(Rn),$=Z(/\s/);function Z(n){return i;function i(t){return t!==null&&n.test(String.fromCharCode(t))}}const Hn={tokenize:Gn,partial:!0},Sn={tokenize:Zn,partial:!0},An={tokenize:Yn,partial:!0},Cn={tokenize:Jn,partial:!0},Nn={tokenize:Xn,partial:!0},zn={tokenize:Qn,previous:wn},yn={tokenize:Un,previous:En},G={tokenize:Wn,previous:Dn},Q={},Vn={text:Q};let X=48;for(;X<123;)Q[X]=G,X++,X===58?X=65:X===91&&(X=97);Q[43]=G;Q[45]=G;Q[46]=G;Q[95]=G;Q[72]=[G,yn];Q[104]=[G,yn];Q[87]=[G,zn];Q[119]=[G,zn];function Wn(n,i,t){const r=this;let u,a;return e;function e(o){return!sn(o)||!Dn.call(r,r.previous)||hn(r.events)?t(o):(n.enter("literalAutolink"),n.enter("literalAutolinkEmail"),l(o))}function l(o){return sn(o)?(n.consume(o),l):o===64?(n.consume(o),p):t(o)}function p(o){return o===46?n.check(Nn,k,g)(o):o===45||o===95||B(o)?(a=!0,n.consume(o),p):k(o)}function g(o){return n.consume(o),u=!0,p}function k(o){return a&&u&&T(r.previous)?(n.exit("literalAutolinkEmail"),n.exit("literalAutolink"),i(o)):t(o)}}function Qn(n,i,t){const r=this;return u;function u(e){return e!==87&&e!==119||!wn.call(r,r.previous)||hn(r.events)?t(e):(n.enter("literalAutolink"),n.enter("literalAutolinkWww"),n.check(Hn,n.attempt(Sn,n.attempt(An,a),t),t)(e))}function a(e){return n.exit("literalAutolinkWww"),n.exit("literalAutolink"),i(e)}}function Un(n,i,t){const r=this;let u="",a=!1;return e;function e(o){return(o===72||o===104)&&En.call(r,r.previous)&&!hn(r.events)?(n.enter("literalAutolink"),n.enter("literalAutolinkHttp"),u+=String.fromCodePoint(o),n.consume(o),l):t(o)}function l(o){if(T(o)&&u.length<5)return u+=String.fromCodePoint(o),n.consume(o),l;if(o===58){const x=u.toLowerCase();if(x==="http"||x==="https")return n.consume(o),p}return t(o)}function p(o){return o===47?(n.consume(o),a?g:(a=!0,p)):t(o)}function g(o){return o===null||en(o)||w(o)||$(o)||mn(o)?t(o):n.attempt(Sn,n.attempt(An,k),t)(o)}function k(o){return n.exit("literalAutolinkHttp"),n.exit("literalAutolink"),i(o)}}function Gn(n,i,t){let r=0;return u;function u(e){return(e===87||e===119)&&r<3?(r++,n.consume(e),u):e===46&&r===3?(n.consume(e),a):t(e)}function a(e){return e===null?t(e):i(e)}}function Zn(n,i,t){let r,u,a;return e;function e(g){return g===46||g===95?n.check(Cn,p,l)(g):g===null||w(g)||$(g)||g!==45&&mn(g)?p(g):(a=!0,n.consume(g),e)}function l(g){return g===95?r=!0:(u=r,r=void 0),n.consume(g),e}function p(g){return u||r||!a?t(g):i(g)}}function Yn(n,i){let t=0,r=0;return u;function u(e){return e===40?(t++,n.consume(e),u):e===41&&r<t?a(e):e===33||e===34||e===38||e===39||e===41||e===42||e===44||e===46||e===58||e===59||e===60||e===63||e===93||e===95||e===126?n.check(Cn,i,a)(e):e===null||w(e)||$(e)?i(e):(n.consume(e),u)}function a(e){return e===41&&r++,n.consume(e),u}}function Jn(n,i,t){return r;function r(l){return l===33||l===34||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===63||l===95||l===126?(n.consume(l),r):l===38?(n.consume(l),a):l===93?(n.consume(l),u):l===60||l===null||w(l)||$(l)?i(l):t(l)}function u(l){return l===null||l===40||l===91||w(l)||$(l)?i(l):r(l)}function a(l){return T(l)?e(l):t(l)}function e(l){return l===59?(n.consume(l),r):T(l)?(n.consume(l),e):t(l)}}function Xn(n,i,t){return r;function r(a){return n.consume(a),u}function u(a){return B(a)?t(a):i(a)}}function wn(n){return n===null||n===40||n===42||n===95||n===91||n===93||n===126||w(n)}function En(n){return!T(n)}function Dn(n){return!(n===47||sn(n))}function sn(n){return n===43||n===45||n===46||n===95||B(n)}function hn(n){let i=n.length,t=!1;for(;i--;){const r=n[i][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){t=!0;break}if(r._gfmAutolinkLiteralWalkedInto){t=!1;break}}return n.length>0&&!t&&(n[n.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),t}function Ir(n){const i=[];let t=-1,r=0,u=0;for(;++t<n.length;){const a=n.charCodeAt(t);let e="";if(a===37&&B(n.charCodeAt(t+1))&&B(n.charCodeAt(t+2)))u=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(e=String.fromCharCode(a));else if(a>55295&&a<57344){const l=n.charCodeAt(t+1);a<56320&&l>56319&&l<57344?(e=String.fromCharCode(a,l),u=1):e="ï¿½"}else e=String.fromCharCode(a);e&&(i.push(n.slice(r,t),encodeURIComponent(e)),r=t+u+1,e=""),u&&(t+=u,u=0)}return i.join("")+n.slice(r)}function un(n){if(n===null||w(n)||$(n))return 1;if(mn(n))return 2}function pn(n,i,t){const r=[];let u=-1;for(;++u<n.length;){const a=n[u].resolveAll;a&&!r.includes(a)&&(i=a(i,t),r.push(a))}return i}const Lr={name:"attention",tokenize:$n,resolveAll:Kn};function Kn(n,i){let t=-1,r,u,a,e,l,p,g,k;for(;++t<n.length;)if(n[t][0]==="enter"&&n[t][1].type==="attentionSequence"&&n[t][1]._close){for(r=t;r--;)if(n[r][0]==="exit"&&n[r][1].type==="attentionSequence"&&n[r][1]._open&&i.sliceSerialize(n[r][1]).charCodeAt(0)===i.sliceSerialize(n[t][1]).charCodeAt(0)){if((n[r][1]._close||n[t][1]._open)&&(n[t][1].end.offset-n[t][1].start.offset)%3&&!((n[r][1].end.offset-n[r][1].start.offset+n[t][1].end.offset-n[t][1].start.offset)%3))continue;p=n[r][1].end.offset-n[r][1].start.offset>1&&n[t][1].end.offset-n[t][1].start.offset>1?2:1;const o=Object.assign({},n[r][1].end),x=Object.assign({},n[t][1].start);kn(o,-p),kn(x,p),e={type:p>1?"strongSequence":"emphasisSequence",start:o,end:Object.assign({},n[r][1].end)},l={type:p>1?"strongSequence":"emphasisSequence",start:Object.assign({},n[t][1].start),end:x},a={type:p>1?"strongText":"emphasisText",start:Object.assign({},n[r][1].end),end:Object.assign({},n[t][1].start)},u={type:p>1?"strong":"emphasis",start:Object.assign({},e.start),end:Object.assign({},l.end)},n[r][1].end=Object.assign({},e.start),n[t][1].start=Object.assign({},l.end),g=[],n[r][1].end.offset-n[r][1].start.offset&&(g=N(g,[["enter",n[r][1],i],["exit",n[r][1],i]])),g=N(g,[["enter",u,i],["enter",e,i],["exit",e,i],["enter",a,i]]),g=N(g,pn(i.parser.constructs.insideSpan.null,n.slice(r+1,t),i)),g=N(g,[["exit",a,i],["enter",l,i],["exit",l,i],["exit",u,i]]),n[t][1].end.offset-n[t][1].start.offset?(k=2,g=N(g,[["enter",n[t][1],i],["exit",n[t][1],i]])):k=0,W(n,r-1,t-r+3,g),t=r+g.length-k-2;break}}for(t=-1;++t<n.length;)n[t][1].type==="attentionSequence"&&(n[t][1].type="data");return n}function $n(n,i){const t=this.parser.constructs.attentionMarkers.null,r=this.previous,u=un(r);let a;return e;function e(p){return a=p,n.enter("attentionSequence"),l(p)}function l(p){if(p===a)return n.consume(p),l;const g=n.exit("attentionSequence"),k=un(p),o=!k||k===2&&u||t.includes(p),x=!u||u===2&&k||t.includes(r);return g._open=!!(a===42?o:o&&(u||!x)),g._close=!!(a===42?x:x&&(k||!o)),i(p)}}function kn(n,i){n.column+=i,n.offset+=i,n._bufferIndex+=i}const Br={name:"autolink",tokenize:vn};function vn(n,i,t){let r=0;return u;function u(h){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(h),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),a}function a(h){return T(h)?(n.consume(h),e):g(h)}function e(h){return h===43||h===45||h===46||B(h)?(r=1,l(h)):g(h)}function l(h){return h===58?(n.consume(h),r=0,p):(h===43||h===45||h===46||B(h))&&r++<32?(n.consume(h),l):(r=0,g(h))}function p(h){return h===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(h),n.exit("autolinkMarker"),n.exit("autolink"),i):h===null||h===32||h===60||en(h)?t(h):(n.consume(h),p)}function g(h){return h===64?(n.consume(h),k):jn(h)?(n.consume(h),g):t(h)}function k(h){return B(h)?o(h):t(h)}function o(h){return h===46?(n.consume(h),r=0,k):h===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(h),n.exit("autolinkMarker"),n.exit("autolink"),i):x(h)}function x(h){if((h===45||B(h))&&r++<63){const F=h===45?x:o;return n.consume(h),F}return t(h)}}function y(n,i,t,r){const u=r?r-1:Number.POSITIVE_INFINITY;let a=0;return e;function e(p){return C(p)?(n.enter(t),l(p)):i(p)}function l(p){return C(p)&&a++<u?(n.consume(p),l):(n.exit(t),i(p))}}const an={tokenize:dn,partial:!0};function dn(n,i,t){return r;function r(a){return C(a)?y(n,u,"linePrefix")(a):u(a)}function u(a){return a===null||A(a)?i(a):t(a)}}const nt={name:"blockQuote",tokenize:tt,continuation:{tokenize:rt},exit:et};function tt(n,i,t){const r=this;return u;function u(e){if(e===62){const l=r.containerState;return l.open||(n.enter("blockQuote",{_container:!0}),l.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(e),n.exit("blockQuoteMarker"),a}return t(e)}function a(e){return C(e)?(n.enter("blockQuotePrefixWhitespace"),n.consume(e),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),i):(n.exit("blockQuotePrefix"),i(e))}}function rt(n,i,t){const r=this;return u;function u(e){return C(e)?y(n,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(e):a(e)}function a(e){return n.attempt(nt,i,t)(e)}}function et(n){n.exit("blockQuote")}const Or={name:"characterEscape",tokenize:it};function it(n,i,t){return r;function r(a){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(a),n.exit("escapeMarker"),u}function u(a){return _n(a)?(n.enter("characterEscapeValue"),n.consume(a),n.exit("characterEscapeValue"),n.exit("characterEscape"),i):t(a)}}const Tr={name:"characterReference",tokenize:ut};function ut(n,i,t){const r=this;let u=0,a,e;return l;function l(o){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(o),n.exit("characterReferenceMarker"),p}function p(o){return o===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(o),n.exit("characterReferenceMarkerNumeric"),g):(n.enter("characterReferenceValue"),a=31,e=B,k(o))}function g(o){return o===88||o===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(o),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),a=6,e=qn,k):(n.enter("characterReferenceValue"),a=7,e=on,k(o))}function k(o){if(o===59&&u){const x=n.exit("characterReferenceValue");return e===B&&!fn(r.sliceSerialize(x))?t(o):(n.enter("characterReferenceMarker"),n.consume(o),n.exit("characterReferenceMarker"),n.exit("characterReference"),i)}return e(o)&&u++<a?(n.consume(o),k):t(o)}}const xn={tokenize:lt,partial:!0},Mr={name:"codeFenced",tokenize:at,concrete:!0};function at(n,i,t){const r=this,u={tokenize:R,partial:!0};let a=0,e=0,l;return p;function p(f){return g(f)}function g(f){const I=r.events[r.events.length-1];return a=I&&I[1].type==="linePrefix"?I[2].sliceSerialize(I[1],!0).length:0,l=f,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),k(f)}function k(f){return f===l?(e++,n.consume(f),k):e<3?t(f):(n.exit("codeFencedFenceSequence"),C(f)?y(n,o,"whitespace")(f):o(f))}function o(f){return f===null||A(f)?(n.exit("codeFencedFence"),r.interrupt?i(f):n.check(xn,z,_)(f)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),x(f))}function x(f){return f===null||A(f)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),o(f)):C(f)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),y(n,h,"whitespace")(f)):f===96&&f===l?t(f):(n.consume(f),x)}function h(f){return f===null||A(f)?o(f):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),F(f))}function F(f){return f===null||A(f)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),o(f)):f===96&&f===l?t(f):(n.consume(f),F)}function z(f){return n.attempt(u,_,c)(f)}function c(f){return n.enter("lineEnding"),n.consume(f),n.exit("lineEnding"),S}function S(f){return a>0&&C(f)?y(n,L,"linePrefix",a+1)(f):L(f)}function L(f){return f===null||A(f)?n.check(xn,z,_)(f):(n.enter("codeFlowValue"),O(f))}function O(f){return f===null||A(f)?(n.exit("codeFlowValue"),L(f)):(n.consume(f),O)}function _(f){return n.exit("codeFenced"),i(f)}function R(f,I,M){let j=0;return b;function b(E){return f.enter("lineEnding"),f.consume(E),f.exit("lineEnding"),P}function P(E){return f.enter("codeFencedFence"),C(E)?y(f,D,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):D(E)}function D(E){return E===l?(f.enter("codeFencedFenceSequence"),q(E)):M(E)}function q(E){return E===l?(j++,f.consume(E),q):j>=e?(f.exit("codeFencedFenceSequence"),C(E)?y(f,V,"whitespace")(E):V(E)):M(E)}function V(E){return E===null||A(E)?(f.exit("codeFencedFence"),I(E)):M(E)}}}function lt(n,i,t){const r=this;return u;function u(e){return e===null?t(e):(n.enter("lineEnding"),n.consume(e),n.exit("lineEnding"),a)}function a(e){return r.parser.lazy[r.now().line]?t(e):i(e)}}const Pr={name:"codeIndented",tokenize:st},ot={tokenize:mt,partial:!0};function st(n,i,t){const r=this;return u;function u(g){return n.enter("codeIndented"),y(n,a,"linePrefix",4+1)(g)}function a(g){const k=r.events[r.events.length-1];return k&&k[1].type==="linePrefix"&&k[2].sliceSerialize(k[1],!0).length>=4?e(g):t(g)}function e(g){return g===null?p(g):A(g)?n.attempt(ot,e,p)(g):(n.enter("codeFlowValue"),l(g))}function l(g){return g===null||A(g)?(n.exit("codeFlowValue"),e(g)):(n.consume(g),l)}function p(g){return n.exit("codeIndented"),i(g)}}function mt(n,i,t){const r=this;return u;function u(e){return r.parser.lazy[r.now().line]?t(e):A(e)?(n.enter("lineEnding"),n.consume(e),n.exit("lineEnding"),u):y(n,a,"linePrefix",4+1)(e)}function a(e){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?i(e):A(e)?u(e):t(e)}}const Rr={name:"codeText",tokenize:gt,resolve:ht,previous:pt};function ht(n){let i=n.length-4,t=3,r,u;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[i][1].type==="lineEnding"||n[i][1].type==="space")){for(r=t;++r<i;)if(n[r][1].type==="codeTextData"){n[t][1].type="codeTextPadding",n[i][1].type="codeTextPadding",t+=2,i-=2;break}}for(r=t-1,i++;++r<=i;)u===void 0?r!==i&&n[r][1].type!=="lineEnding"&&(u=r):(r===i||n[r][1].type==="lineEnding")&&(n[u][1].type="codeTextData",r!==u+2&&(n[u][1].end=n[r-1][1].end,n.splice(u+2,r-u-2),i-=r-u-2,r=u+2),u=void 0);return n}function pt(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function gt(n,i,t){let r=0,u,a;return e;function e(o){return n.enter("codeText"),n.enter("codeTextSequence"),l(o)}function l(o){return o===96?(n.consume(o),r++,l):(n.exit("codeTextSequence"),p(o))}function p(o){return o===null?t(o):o===32?(n.enter("space"),n.consume(o),n.exit("space"),p):o===96?(a=n.enter("codeTextSequence"),u=0,k(o)):A(o)?(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),p):(n.enter("codeTextData"),g(o))}function g(o){return o===null||o===32||o===96||A(o)?(n.exit("codeTextData"),p(o)):(n.consume(o),g)}function k(o){return o===96?(n.consume(o),u++,k):u===r?(n.exit("codeTextSequence"),n.exit("codeText"),i(o)):(a.type="codeTextData",g(o))}}function kt(n){const i={};let t=-1,r,u,a,e,l,p,g;for(;++t<n.length;){for(;t in i;)t=i[t];if(r=n[t],t&&r[1].type==="chunkFlow"&&n[t-1][1].type==="listItemPrefix"&&(p=r[1]._tokenizer.events,a=0,a<p.length&&p[a][1].type==="lineEndingBlank"&&(a+=2),a<p.length&&p[a][1].type==="content"))for(;++a<p.length&&p[a][1].type!=="content";)p[a][1].type==="chunkText"&&(p[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(i,xt(n,t)),t=i[t],g=!0);else if(r[1]._container){for(a=t,u=void 0;a--&&(e=n[a],e[1].type==="lineEnding"||e[1].type==="lineEndingBlank");)e[0]==="enter"&&(u&&(n[u][1].type="lineEndingBlank"),e[1].type="lineEnding",u=a);u&&(r[1].end=Object.assign({},n[u][1].start),l=n.slice(u,t),l.unshift(r),W(n,u,t-u+1,l))}}return!g}function xt(n,i){const t=n[i][1],r=n[i][2];let u=i-1;const a=[],e=t._tokenizer||r.parser[t.contentType](t.start),l=e.events,p=[],g={};let k,o,x=-1,h=t,F=0,z=0;const c=[z];for(;h;){for(;n[++u][1]!==h;);a.push(u),h._tokenizer||(k=r.sliceStream(h),h.next||k.push(null),o&&e.defineSkip(h.start),h._isInFirstContentOfListItem&&(e._gfmTasklistFirstContentOfListItem=!0),e.write(k),h._isInFirstContentOfListItem&&(e._gfmTasklistFirstContentOfListItem=void 0)),o=h,h=h.next}for(h=t;++x<l.length;)l[x][0]==="exit"&&l[x-1][0]==="enter"&&l[x][1].type===l[x-1][1].type&&l[x][1].start.line!==l[x][1].end.line&&(z=x+1,c.push(z),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(e.events=[],h?(h._tokenizer=void 0,h.previous=void 0):c.pop(),x=c.length;x--;){const S=l.slice(c[x],c[x+1]),L=a.pop();p.unshift([L,L+S.length-1]),W(n,L,2,S)}for(x=-1;++x<p.length;)g[F+p[x][0]]=F+p[x][1],F+=p[x][1]-p[x][0]-1;return g}const jr={tokenize:ft,resolve:Ft},bt={tokenize:St,partial:!0};function Ft(n){return kt(n),n}function ft(n,i){let t;return r;function r(l){return n.enter("content"),t=n.enter("chunkContent",{contentType:"content"}),u(l)}function u(l){return l===null?a(l):A(l)?n.check(bt,e,a)(l):(n.consume(l),u)}function a(l){return n.exit("chunkContent"),n.exit("content"),i(l)}function e(l){return n.consume(l),n.exit("chunkContent"),t.next=n.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,u}}function St(n,i,t){const r=this;return u;function u(e){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(e),n.exit("lineEnding"),y(n,a,"linePrefix")}function a(e){if(e===null||A(e))return t(e);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?i(e):n.interrupt(r.parser.constructs.flow,t,i)(e)}}function cn(n,i,t,r,u,a,e,l,p){const g=p||Number.POSITIVE_INFINITY;let k=0;return o;function o(S){return S===60?(n.enter(r),n.enter(u),n.enter(a),n.consume(S),n.exit(a),x):S===null||S===32||S===41||en(S)?t(S):(n.enter(r),n.enter(e),n.enter(l),n.enter("chunkString",{contentType:"string"}),z(S))}function x(S){return S===62?(n.enter(a),n.consume(S),n.exit(a),n.exit(u),n.exit(r),i):(n.enter(l),n.enter("chunkString",{contentType:"string"}),h(S))}function h(S){return S===62?(n.exit("chunkString"),n.exit(l),x(S)):S===null||S===60||A(S)?t(S):(n.consume(S),S===92?F:h)}function F(S){return S===60||S===62||S===92?(n.consume(S),h):h(S)}function z(S){return!k&&(S===null||S===41||w(S))?(n.exit("chunkString"),n.exit(l),n.exit(e),n.exit(r),i(S)):k<g&&S===40?(n.consume(S),k++,z):S===41?(n.consume(S),k--,z):S===null||S===32||S===40||en(S)?t(S):(n.consume(S),S===92?c:z)}function c(S){return S===40||S===41||S===92?(n.consume(S),z):z(S)}}function In(n,i,t,r,u,a){const e=this;let l=0,p;return g;function g(h){return n.enter(r),n.enter(u),n.consume(h),n.exit(u),n.enter(a),k}function k(h){return l>999||h===null||h===91||h===93&&!p||h===94&&!l&&"_hiddenFootnoteSupport"in e.parser.constructs?t(h):h===93?(n.exit(a),n.enter(u),n.consume(h),n.exit(u),n.exit(r),i):A(h)?(n.enter("lineEnding"),n.consume(h),n.exit("lineEnding"),k):(n.enter("chunkString",{contentType:"string"}),o(h))}function o(h){return h===null||h===91||h===93||A(h)||l++>999?(n.exit("chunkString"),k(h)):(n.consume(h),p||(p=!C(h)),h===92?x:o)}function x(h){return h===91||h===92||h===93?(n.consume(h),l++,o):o(h)}}function Ln(n,i,t,r,u,a){let e;return l;function l(x){return x===34||x===39||x===40?(n.enter(r),n.enter(u),n.consume(x),n.exit(u),e=x===40?41:x,p):t(x)}function p(x){return x===e?(n.enter(u),n.consume(x),n.exit(u),n.exit(r),i):(n.enter(a),g(x))}function g(x){return x===e?(n.exit(a),p(e)):x===null?t(x):A(x)?(n.enter("lineEnding"),n.consume(x),n.exit("lineEnding"),y(n,g,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),k(x))}function k(x){return x===e||x===null||A(x)?(n.exit("chunkString"),g(x)):(n.consume(x),x===92?o:k)}function o(x){return x===e||x===92?(n.consume(x),k):k(x)}}function d(n,i){let t;return r;function r(u){return A(u)?(n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),t=!0,r):C(u)?y(n,r,t?"linePrefix":"lineSuffix")(u):i(u)}}function v(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const qr={name:"definition",tokenize:Ct},At={tokenize:zt,partial:!0};function Ct(n,i,t){const r=this;let u;return a;function a(h){return n.enter("definition"),e(h)}function e(h){return In.call(r,n,l,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function l(h){return u=v(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(n.enter("definitionMarker"),n.consume(h),n.exit("definitionMarker"),p):t(h)}function p(h){return w(h)?d(n,g)(h):g(h)}function g(h){return cn(n,k,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function k(h){return n.attempt(At,o,o)(h)}function o(h){return C(h)?y(n,x,"whitespace")(h):x(h)}function x(h){return h===null||A(h)?(n.exit("definition"),r.parser.defined.push(u),i(h)):t(h)}}function zt(n,i,t){return r;function r(l){return w(l)?d(n,u)(l):t(l)}function u(l){return Ln(n,a,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function a(l){return C(l)?y(n,e,"whitespace")(l):e(l)}function e(l){return l===null||A(l)?i(l):t(l)}}const _r={name:"hardBreakEscape",tokenize:yt};function yt(n,i,t){return r;function r(a){return n.enter("hardBreakEscape"),n.consume(a),u}function u(a){return A(a)?(n.exit("hardBreakEscape"),i(a)):t(a)}}const Hr={name:"headingAtx",tokenize:Et,resolve:wt};function wt(n,i){let t=n.length-2,r=3,u,a;return n[r][1].type==="whitespace"&&(r+=2),t-2>r&&n[t][1].type==="whitespace"&&(t-=2),n[t][1].type==="atxHeadingSequence"&&(r===t-1||t-4>r&&n[t-2][1].type==="whitespace")&&(t-=r+1===t?2:4),t>r&&(u={type:"atxHeadingText",start:n[r][1].start,end:n[t][1].end},a={type:"chunkText",start:n[r][1].start,end:n[t][1].end,contentType:"text"},W(n,r,t-r+1,[["enter",u,i],["enter",a,i],["exit",a,i],["exit",u,i]])),n}function Et(n,i,t){let r=0;return u;function u(k){return n.enter("atxHeading"),a(k)}function a(k){return n.enter("atxHeadingSequence"),e(k)}function e(k){return k===35&&r++<6?(n.consume(k),e):k===null||w(k)?(n.exit("atxHeadingSequence"),l(k)):t(k)}function l(k){return k===35?(n.enter("atxHeadingSequence"),p(k)):k===null||A(k)?(n.exit("atxHeading"),i(k)):C(k)?y(n,l,"whitespace")(k):(n.enter("atxHeadingText"),g(k))}function p(k){return k===35?(n.consume(k),p):(n.exit("atxHeadingSequence"),l(k))}function g(k){return k===null||k===35||w(k)?(n.exit("atxHeadingText"),l(k)):(n.consume(k),g)}}const Dt=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],bn=["pre","script","style","textarea"],Nr={name:"htmlFlow",tokenize:Bt,resolveTo:Lt,concrete:!0},ct={tokenize:Tt,partial:!0},It={tokenize:Ot,partial:!0};function Lt(n){let i=n.length;for(;i--&&!(n[i][0]==="enter"&&n[i][1].type==="htmlFlow"););return i>1&&n[i-2][1].type==="linePrefix"&&(n[i][1].start=n[i-2][1].start,n[i+1][1].start=n[i-2][1].start,n.splice(i-2,2)),n}function Bt(n,i,t){const r=this;let u,a,e,l,p;return g;function g(m){return k(m)}function k(m){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(m),o}function o(m){return m===33?(n.consume(m),x):m===47?(n.consume(m),a=!0,z):m===63?(n.consume(m),u=3,r.interrupt?i:s):T(m)?(n.consume(m),e=String.fromCharCode(m),c):t(m)}function x(m){return m===45?(n.consume(m),u=2,h):m===91?(n.consume(m),u=5,l=0,F):T(m)?(n.consume(m),u=4,r.interrupt?i:s):t(m)}function h(m){return m===45?(n.consume(m),r.interrupt?i:s):t(m)}function F(m){const J="CDATA[";return m===J.charCodeAt(l++)?(n.consume(m),l===J.length?r.interrupt?i:D:F):t(m)}function z(m){return T(m)?(n.consume(m),e=String.fromCharCode(m),c):t(m)}function c(m){if(m===null||m===47||m===62||w(m)){const J=m===47,On=e.toLowerCase();return!J&&!a&&bn.includes(On)?(u=1,r.interrupt?i(m):D(m)):Dt.includes(e.toLowerCase())?(u=6,J?(n.consume(m),S):r.interrupt?i(m):D(m)):(u=7,r.interrupt&&!r.parser.lazy[r.now().line]?t(m):a?L(m):O(m))}return m===45||B(m)?(n.consume(m),e+=String.fromCharCode(m),c):t(m)}function S(m){return m===62?(n.consume(m),r.interrupt?i:D):t(m)}function L(m){return C(m)?(n.consume(m),L):b(m)}function O(m){return m===47?(n.consume(m),b):m===58||m===95||T(m)?(n.consume(m),_):C(m)?(n.consume(m),O):b(m)}function _(m){return m===45||m===46||m===58||m===95||B(m)?(n.consume(m),_):R(m)}function R(m){return m===61?(n.consume(m),f):C(m)?(n.consume(m),R):O(m)}function f(m){return m===null||m===60||m===61||m===62||m===96?t(m):m===34||m===39?(n.consume(m),p=m,I):C(m)?(n.consume(m),f):M(m)}function I(m){return m===p?(n.consume(m),p=null,j):m===null||A(m)?t(m):(n.consume(m),I)}function M(m){return m===null||m===34||m===39||m===47||m===60||m===61||m===62||m===96||w(m)?R(m):(n.consume(m),M)}function j(m){return m===47||m===62||C(m)?O(m):t(m)}function b(m){return m===62?(n.consume(m),P):t(m)}function P(m){return m===null||A(m)?D(m):C(m)?(n.consume(m),P):t(m)}function D(m){return m===45&&u===2?(n.consume(m),U):m===60&&u===1?(n.consume(m),H):m===62&&u===4?(n.consume(m),Y):m===63&&u===3?(n.consume(m),s):m===93&&u===5?(n.consume(m),tn):A(m)&&(u===6||u===7)?(n.exit("htmlFlowData"),n.check(ct,ln,q)(m)):m===null||A(m)?(n.exit("htmlFlowData"),q(m)):(n.consume(m),D)}function q(m){return n.check(It,V,ln)(m)}function V(m){return n.enter("lineEnding"),n.consume(m),n.exit("lineEnding"),E}function E(m){return m===null||A(m)?q(m):(n.enter("htmlFlowData"),D(m))}function U(m){return m===45?(n.consume(m),s):D(m)}function H(m){return m===47?(n.consume(m),e="",nn):D(m)}function nn(m){if(m===62){const J=e.toLowerCase();return bn.includes(J)?(n.consume(m),Y):D(m)}return T(m)&&e.length<8?(n.consume(m),e+=String.fromCharCode(m),nn):D(m)}function tn(m){return m===93?(n.consume(m),s):D(m)}function s(m){return m===62?(n.consume(m),Y):m===45&&u===2?(n.consume(m),s):D(m)}function Y(m){return m===null||A(m)?(n.exit("htmlFlowData"),ln(m)):(n.consume(m),Y)}function ln(m){return n.exit("htmlFlow"),i(m)}}function Ot(n,i,t){const r=this;return u;function u(e){return A(e)?(n.enter("lineEnding"),n.consume(e),n.exit("lineEnding"),a):t(e)}function a(e){return r.parser.lazy[r.now().line]?t(e):i(e)}}function Tt(n,i,t){return r;function r(u){return n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),n.attempt(an,i,t)}}const Vr={name:"htmlText",tokenize:Mt};function Mt(n,i,t){const r=this;let u,a,e;return l;function l(s){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(s),p}function p(s){return s===33?(n.consume(s),g):s===47?(n.consume(s),R):s===63?(n.consume(s),O):T(s)?(n.consume(s),M):t(s)}function g(s){return s===45?(n.consume(s),k):s===91?(n.consume(s),a=0,F):T(s)?(n.consume(s),L):t(s)}function k(s){return s===45?(n.consume(s),h):t(s)}function o(s){return s===null?t(s):s===45?(n.consume(s),x):A(s)?(e=o,H(s)):(n.consume(s),o)}function x(s){return s===45?(n.consume(s),h):o(s)}function h(s){return s===62?U(s):s===45?x(s):o(s)}function F(s){const Y="CDATA[";return s===Y.charCodeAt(a++)?(n.consume(s),a===Y.length?z:F):t(s)}function z(s){return s===null?t(s):s===93?(n.consume(s),c):A(s)?(e=z,H(s)):(n.consume(s),z)}function c(s){return s===93?(n.consume(s),S):z(s)}function S(s){return s===62?U(s):s===93?(n.consume(s),S):z(s)}function L(s){return s===null||s===62?U(s):A(s)?(e=L,H(s)):(n.consume(s),L)}function O(s){return s===null?t(s):s===63?(n.consume(s),_):A(s)?(e=O,H(s)):(n.consume(s),O)}function _(s){return s===62?U(s):O(s)}function R(s){return T(s)?(n.consume(s),f):t(s)}function f(s){return s===45||B(s)?(n.consume(s),f):I(s)}function I(s){return A(s)?(e=I,H(s)):C(s)?(n.consume(s),I):U(s)}function M(s){return s===45||B(s)?(n.consume(s),M):s===47||s===62||w(s)?j(s):t(s)}function j(s){return s===47?(n.consume(s),U):s===58||s===95||T(s)?(n.consume(s),b):A(s)?(e=j,H(s)):C(s)?(n.consume(s),j):U(s)}function b(s){return s===45||s===46||s===58||s===95||B(s)?(n.consume(s),b):P(s)}function P(s){return s===61?(n.consume(s),D):A(s)?(e=P,H(s)):C(s)?(n.consume(s),P):j(s)}function D(s){return s===null||s===60||s===61||s===62||s===96?t(s):s===34||s===39?(n.consume(s),u=s,q):A(s)?(e=D,H(s)):C(s)?(n.consume(s),D):(n.consume(s),V)}function q(s){return s===u?(n.consume(s),u=void 0,E):s===null?t(s):A(s)?(e=q,H(s)):(n.consume(s),q)}function V(s){return s===null||s===34||s===39||s===60||s===61||s===96?t(s):s===47||s===62||w(s)?j(s):(n.consume(s),V)}function E(s){return s===47||s===62||w(s)?j(s):t(s)}function U(s){return s===62?(n.consume(s),n.exit("htmlTextData"),n.exit("htmlText"),i):t(s)}function H(s){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),nn}function nn(s){return C(s)?y(n,tn,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):tn(s)}function tn(s){return n.enter("htmlTextData"),e(s)}}const Bn={name:"labelEnd",tokenize:Ht,resolveTo:_t,resolveAll:qt},Pt={tokenize:Nt},Rt={tokenize:Vt},jt={tokenize:Wt};function qt(n){let i=-1;for(;++i<n.length;){const t=n[i][1];(t.type==="labelImage"||t.type==="labelLink"||t.type==="labelEnd")&&(n.splice(i+1,t.type==="labelImage"?4:2),t.type="data",i++)}return n}function _t(n,i){let t=n.length,r=0,u,a,e,l;for(;t--;)if(u=n[t][1],a){if(u.type==="link"||u.type==="labelLink"&&u._inactive)break;n[t][0]==="enter"&&u.type==="labelLink"&&(u._inactive=!0)}else if(e){if(n[t][0]==="enter"&&(u.type==="labelImage"||u.type==="labelLink")&&!u._balanced&&(a=t,u.type!=="labelLink")){r=2;break}}else u.type==="labelEnd"&&(e=t);const p={type:n[a][1].type==="labelLink"?"link":"image",start:Object.assign({},n[a][1].start),end:Object.assign({},n[n.length-1][1].end)},g={type:"label",start:Object.assign({},n[a][1].start),end:Object.assign({},n[e][1].end)},k={type:"labelText",start:Object.assign({},n[a+r+2][1].end),end:Object.assign({},n[e-2][1].start)};return l=[["enter",p,i],["enter",g,i]],l=N(l,n.slice(a+1,a+r+3)),l=N(l,[["enter",k,i]]),l=N(l,pn(i.parser.constructs.insideSpan.null,n.slice(a+r+4,e-3),i)),l=N(l,[["exit",k,i],n[e-2],n[e-1],["exit",g,i]]),l=N(l,n.slice(e+1)),l=N(l,[["exit",p,i]]),W(n,a,n.length,l),n}function Ht(n,i,t){const r=this;let u=r.events.length,a,e;for(;u--;)if((r.events[u][1].type==="labelImage"||r.events[u][1].type==="labelLink")&&!r.events[u][1]._balanced){a=r.events[u][1];break}return l;function l(x){return a?a._inactive?o(x):(e=r.parser.defined.includes(v(r.sliceSerialize({start:a.end,end:r.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(x),n.exit("labelMarker"),n.exit("labelEnd"),p):t(x)}function p(x){return x===40?n.attempt(Pt,k,e?k:o)(x):x===91?n.attempt(Rt,k,e?g:o)(x):e?k(x):o(x)}function g(x){return n.attempt(jt,k,o)(x)}function k(x){return i(x)}function o(x){return a._balanced=!0,t(x)}}function Nt(n,i,t){return r;function r(o){return n.enter("resource"),n.enter("resourceMarker"),n.consume(o),n.exit("resourceMarker"),u}function u(o){return w(o)?d(n,a)(o):a(o)}function a(o){return o===41?k(o):cn(n,e,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(o)}function e(o){return w(o)?d(n,p)(o):k(o)}function l(o){return t(o)}function p(o){return o===34||o===39||o===40?Ln(n,g,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(o):k(o)}function g(o){return w(o)?d(n,k)(o):k(o)}function k(o){return o===41?(n.enter("resourceMarker"),n.consume(o),n.exit("resourceMarker"),n.exit("resource"),i):t(o)}}function Vt(n,i,t){const r=this;return u;function u(l){return In.call(r,n,a,e,"reference","referenceMarker","referenceString")(l)}function a(l){return r.parser.defined.includes(v(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?i(l):t(l)}function e(l){return t(l)}}function Wt(n,i,t){return r;function r(a){return n.enter("reference"),n.enter("referenceMarker"),n.consume(a),n.exit("referenceMarker"),u}function u(a){return a===93?(n.enter("referenceMarker"),n.consume(a),n.exit("referenceMarker"),n.exit("reference"),i):t(a)}}const Wr={name:"labelStartImage",tokenize:Qt,resolveAll:Bn.resolveAll};function Qt(n,i,t){const r=this;return u;function u(l){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(l),n.exit("labelImageMarker"),a}function a(l){return l===91?(n.enter("labelMarker"),n.consume(l),n.exit("labelMarker"),n.exit("labelImage"),e):t(l)}function e(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(l):i(l)}}const Qr={name:"labelStartLink",tokenize:Ut,resolveAll:Bn.resolveAll};function Ut(n,i,t){const r=this;return u;function u(e){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(e),n.exit("labelMarker"),n.exit("labelLink"),a}function a(e){return e===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(e):i(e)}}const Ur={name:"lineEnding",tokenize:Gt};function Gt(n,i){return t;function t(r){return n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),y(n,i,"linePrefix")}}const Zt={name:"thematicBreak",tokenize:Yt};function Yt(n,i,t){let r=0,u;return a;function a(g){return n.enter("thematicBreak"),e(g)}function e(g){return u=g,l(g)}function l(g){return g===u?(n.enter("thematicBreakSequence"),p(g)):r>=3&&(g===null||A(g))?(n.exit("thematicBreak"),i(g)):t(g)}function p(g){return g===u?(n.consume(g),r++,p):(n.exit("thematicBreakSequence"),C(g)?y(n,l,"whitespace")(g):l(g))}}const Jt={name:"list",tokenize:$t,continuation:{tokenize:vt},exit:nr},Xt={tokenize:tr,partial:!0},Kt={tokenize:dt,partial:!0};function $t(n,i,t){const r=this,u=r.events[r.events.length-1];let a=u&&u[1].type==="linePrefix"?u[2].sliceSerialize(u[1],!0).length:0,e=0;return l;function l(h){const F=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(F==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:on(h)){if(r.containerState.type||(r.containerState.type=F,n.enter(F,{_container:!0})),F==="listUnordered")return n.enter("listItemPrefix"),h===42||h===45?n.check(Zt,t,g)(h):g(h);if(!r.interrupt||h===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),p(h)}return t(h)}function p(h){return on(h)&&++e<10?(n.consume(h),p):(!r.interrupt||e<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(n.exit("listItemValue"),g(h)):t(h)}function g(h){return n.enter("listItemMarker"),n.consume(h),n.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,n.check(an,r.interrupt?t:k,n.attempt(Xt,x,o))}function k(h){return r.containerState.initialBlankLine=!0,a++,x(h)}function o(h){return C(h)?(n.enter("listItemPrefixWhitespace"),n.consume(h),n.exit("listItemPrefixWhitespace"),x):t(h)}function x(h){return r.containerState.size=a+r.sliceSerialize(n.exit("listItemPrefix"),!0).length,i(h)}}function vt(n,i,t){const r=this;return r.containerState._closeFlow=void 0,n.check(an,u,a);function u(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,y(n,i,"listItemIndent",r.containerState.size+1)(l)}function a(l){return r.containerState.furtherBlankLines||!C(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,n.attempt(Kt,i,e)(l))}function e(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,y(n,n.attempt(Jt,i,t),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function dt(n,i,t){const r=this;return y(n,u,"listItemIndent",r.containerState.size+1);function u(a){const e=r.events[r.events.length-1];return e&&e[1].type==="listItemIndent"&&e[2].sliceSerialize(e[1],!0).length===r.containerState.size?i(a):t(a)}}function nr(n){n.exit(this.containerState.type)}function tr(n,i,t){const r=this;return y(n,u,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function u(a){const e=r.events[r.events.length-1];return!C(a)&&e&&e[1].type==="listItemPrefixWhitespace"?i(a):t(a)}}const Gr={name:"setextUnderline",tokenize:er,resolveTo:rr};function rr(n,i){let t=n.length,r,u,a;for(;t--;)if(n[t][0]==="enter"){if(n[t][1].type==="content"){r=t;break}n[t][1].type==="paragraph"&&(u=t)}else n[t][1].type==="content"&&n.splice(t,1),!a&&n[t][1].type==="definition"&&(a=t);const e={type:"setextHeading",start:Object.assign({},n[u][1].start),end:Object.assign({},n[n.length-1][1].end)};return n[u][1].type="setextHeadingText",a?(n.splice(u,0,["enter",e,i]),n.splice(a+1,0,["exit",n[r][1],i]),n[r][1].end=Object.assign({},n[a][1].end)):n[r][1]=e,n.push(["exit",e,i]),n}function er(n,i,t){const r=this;let u;return a;function a(g){let k=r.events.length,o;for(;k--;)if(r.events[k][1].type!=="lineEnding"&&r.events[k][1].type!=="linePrefix"&&r.events[k][1].type!=="content"){o=r.events[k][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||o)?(n.enter("setextHeadingLine"),u=g,e(g)):t(g)}function e(g){return n.enter("setextHeadingLineSequence"),l(g)}function l(g){return g===u?(n.consume(g),l):(n.exit("setextHeadingLineSequence"),C(g)?y(n,p,"lineSuffix")(g):p(g))}function p(g){return g===null||A(g)?(n.exit("setextHeadingLine"),i(g)):t(g)}}const ir={tokenize:pr,partial:!0};function ur(){return{document:{91:{tokenize:sr,continuation:{tokenize:mr},exit:hr}},text:{91:{tokenize:or},93:{add:"after",tokenize:ar,resolveTo:lr}}}}function ar(n,i,t){const r=this;let u=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let e;for(;u--;){const p=r.events[u][1];if(p.type==="labelImage"){e=p;break}if(p.type==="gfmFootnoteCall"||p.type==="labelLink"||p.type==="label"||p.type==="image"||p.type==="link")break}return l;function l(p){if(!e||!e._balanced)return t(p);const g=v(r.sliceSerialize({start:e.end,end:r.now()}));return g.codePointAt(0)!==94||!a.includes(g.slice(1))?t(p):(n.enter("gfmFootnoteCallLabelMarker"),n.consume(p),n.exit("gfmFootnoteCallLabelMarker"),i(p))}}function lr(n,i){let t=n.length;for(;t--;)if(n[t][1].type==="labelImage"&&n[t][0]==="enter"){n[t][1];break}n[t+1][1].type="data",n[t+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},n[t+3][1].start),end:Object.assign({},n[n.length-1][1].end)},u={type:"gfmFootnoteCallMarker",start:Object.assign({},n[t+3][1].end),end:Object.assign({},n[t+3][1].end)};u.end.column++,u.end.offset++,u.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},u.end),end:Object.assign({},n[n.length-1][1].start)},e={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},l=[n[t+1],n[t+2],["enter",r,i],n[t+3],n[t+4],["enter",u,i],["exit",u,i],["enter",a,i],["enter",e,i],["exit",e,i],["exit",a,i],n[n.length-2],n[n.length-1],["exit",r,i]];return n.splice(t,n.length-t+1,...l),n}function or(n,i,t){const r=this,u=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a=0,e;return l;function l(o){return n.enter("gfmFootnoteCall"),n.enter("gfmFootnoteCallLabelMarker"),n.consume(o),n.exit("gfmFootnoteCallLabelMarker"),p}function p(o){return o!==94?t(o):(n.enter("gfmFootnoteCallMarker"),n.consume(o),n.exit("gfmFootnoteCallMarker"),n.enter("gfmFootnoteCallString"),n.enter("chunkString").contentType="string",g)}function g(o){if(a>999||o===93&&!e||o===null||o===91||w(o))return t(o);if(o===93){n.exit("chunkString");const x=n.exit("gfmFootnoteCallString");return u.includes(v(r.sliceSerialize(x)))?(n.enter("gfmFootnoteCallLabelMarker"),n.consume(o),n.exit("gfmFootnoteCallLabelMarker"),n.exit("gfmFootnoteCall"),i):t(o)}return w(o)||(e=!0),a++,n.consume(o),o===92?k:g}function k(o){return o===91||o===92||o===93?(n.consume(o),a++,g):g(o)}}function sr(n,i,t){const r=this,u=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,e=0,l;return p;function p(F){return n.enter("gfmFootnoteDefinition")._container=!0,n.enter("gfmFootnoteDefinitionLabel"),n.enter("gfmFootnoteDefinitionLabelMarker"),n.consume(F),n.exit("gfmFootnoteDefinitionLabelMarker"),g}function g(F){return F===94?(n.enter("gfmFootnoteDefinitionMarker"),n.consume(F),n.exit("gfmFootnoteDefinitionMarker"),n.enter("gfmFootnoteDefinitionLabelString"),n.enter("chunkString").contentType="string",k):t(F)}function k(F){if(e>999||F===93&&!l||F===null||F===91||w(F))return t(F);if(F===93){n.exit("chunkString");const z=n.exit("gfmFootnoteDefinitionLabelString");return a=v(r.sliceSerialize(z)),n.enter("gfmFootnoteDefinitionLabelMarker"),n.consume(F),n.exit("gfmFootnoteDefinitionLabelMarker"),n.exit("gfmFootnoteDefinitionLabel"),x}return w(F)||(l=!0),e++,n.consume(F),F===92?o:k}function o(F){return F===91||F===92||F===93?(n.consume(F),e++,k):k(F)}function x(F){return F===58?(n.enter("definitionMarker"),n.consume(F),n.exit("definitionMarker"),u.includes(a)||u.push(a),y(n,h,"gfmFootnoteDefinitionWhitespace")):t(F)}function h(F){return i(F)}}function mr(n,i,t){return n.check(an,i,n.attempt(ir,i,t))}function hr(n){n.exit("gfmFootnoteDefinition")}function pr(n,i,t){const r=this;return y(n,u,"gfmFootnoteDefinitionIndent",4+1);function u(a){const e=r.events[r.events.length-1];return e&&e[1].type==="gfmFootnoteDefinitionIndent"&&e[2].sliceSerialize(e[1],!0).length===4?i(a):t(a)}}function gr(n){let t=(n||{}).singleTilde;const r={tokenize:a,resolveAll:u};return t==null&&(t=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function u(e,l){let p=-1;for(;++p<e.length;)if(e[p][0]==="enter"&&e[p][1].type==="strikethroughSequenceTemporary"&&e[p][1]._close){let g=p;for(;g--;)if(e[g][0]==="exit"&&e[g][1].type==="strikethroughSequenceTemporary"&&e[g][1]._open&&e[p][1].end.offset-e[p][1].start.offset===e[g][1].end.offset-e[g][1].start.offset){e[p][1].type="strikethroughSequence",e[g][1].type="strikethroughSequence";const k={type:"strikethrough",start:Object.assign({},e[g][1].start),end:Object.assign({},e[p][1].end)},o={type:"strikethroughText",start:Object.assign({},e[g][1].end),end:Object.assign({},e[p][1].start)},x=[["enter",k,l],["enter",e[g][1],l],["exit",e[g][1],l],["enter",o,l]],h=l.parser.constructs.insideSpan.null;h&&W(x,x.length,0,pn(h,e.slice(g+1,p),l)),W(x,x.length,0,[["exit",o,l],["enter",e[p][1],l],["exit",e[p][1],l],["exit",k,l]]),W(e,g-1,p-g+3,x),p=g+x.length-2;break}}for(p=-1;++p<e.length;)e[p][1].type==="strikethroughSequenceTemporary"&&(e[p][1].type="data");return e}function a(e,l,p){const g=this.previous,k=this.events;let o=0;return x;function x(F){return g===126&&k[k.length-1][1].type!=="characterEscape"?p(F):(e.enter("strikethroughSequenceTemporary"),h(F))}function h(F){const z=un(g);if(F===126)return o>1?p(F):(e.consume(F),o++,h);if(o<2&&!t)return p(F);const c=e.exit("strikethroughSequenceTemporary"),S=un(F);return c._open=!S||S===2&&!!z,c._close=!z||z===2&&!!S,l(F)}}}class kr{constructor(){this.map=[]}add(i,t,r){xr(this,i,t,r)}consume(i){if(this.map.sort((a,e)=>a[0]-e[0]),this.map.length===0)return;let t=this.map.length;const r=[];for(;t>0;)t-=1,r.push(i.slice(this.map[t][0]+this.map[t][1])),r.push(this.map[t][2]),i.length=this.map[t][0];r.push([...i]),i.length=0;let u=r.pop();for(;u;)i.push(...u),u=r.pop();this.map.length=0}}function xr(n,i,t,r){let u=0;if(!(t===0&&r.length===0)){for(;u<n.map.length;){if(n.map[u][0]===i){n.map[u][1]+=t,n.map[u][2].push(...r);return}u+=1}n.map.push([i,t,r])}}function br(n,i){let t=!1;const r=[];for(;i<n.length;){const u=n[i];if(t){if(u[0]==="enter")u[1].type==="tableContent"&&r.push(n[i+1][1].type==="tableDelimiterMarker"?"left":"none");else if(u[1].type==="tableContent"){if(n[i-1][1].type==="tableDelimiterMarker"){const a=r.length-1;r[a]=r[a]==="left"?"center":"right"}}else if(u[1].type==="tableDelimiterRow")break}else u[0]==="enter"&&u[1].type==="tableDelimiterRow"&&(t=!0);i+=1}return r}const Fr={flow:{null:{tokenize:fr,resolveAll:Sr}}};function fr(n,i,t){const r=this;let u=0,a=0,e;return l;function l(b){let P=r.events.length-1;for(;P>-1;){const V=r.events[P][1].type;if(V==="lineEnding"||V==="linePrefix")P--;else break}const D=P>-1?r.events[P][1].type:null,q=D==="tableHead"||D==="tableRow"?f:p;return q===f&&r.parser.lazy[r.now().line]?t(b):q(b)}function p(b){return n.enter("tableHead"),n.enter("tableRow"),g(b)}function g(b){return b===124||(e=!0,a+=1),k(b)}function k(b){return b===null?t(b):A(b)?a>1?(a=0,r.interrupt=!0,n.exit("tableRow"),n.enter("lineEnding"),n.consume(b),n.exit("lineEnding"),h):t(b):C(b)?y(n,k,"whitespace")(b):(a+=1,e&&(e=!1,u+=1),b===124?(n.enter("tableCellDivider"),n.consume(b),n.exit("tableCellDivider"),e=!0,k):(n.enter("data"),o(b)))}function o(b){return b===null||b===124||w(b)?(n.exit("data"),k(b)):(n.consume(b),b===92?x:o)}function x(b){return b===92||b===124?(n.consume(b),o):o(b)}function h(b){return r.interrupt=!1,r.parser.lazy[r.now().line]?t(b):(n.enter("tableDelimiterRow"),e=!1,C(b)?y(n,F,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(b):F(b))}function F(b){return b===45||b===58?c(b):b===124?(e=!0,n.enter("tableCellDivider"),n.consume(b),n.exit("tableCellDivider"),z):R(b)}function z(b){return C(b)?y(n,c,"whitespace")(b):c(b)}function c(b){return b===58?(a+=1,e=!0,n.enter("tableDelimiterMarker"),n.consume(b),n.exit("tableDelimiterMarker"),S):b===45?(a+=1,S(b)):b===null||A(b)?_(b):R(b)}function S(b){return b===45?(n.enter("tableDelimiterFiller"),L(b)):R(b)}function L(b){return b===45?(n.consume(b),L):b===58?(e=!0,n.exit("tableDelimiterFiller"),n.enter("tableDelimiterMarker"),n.consume(b),n.exit("tableDelimiterMarker"),O):(n.exit("tableDelimiterFiller"),O(b))}function O(b){return C(b)?y(n,_,"whitespace")(b):_(b)}function _(b){return b===124?F(b):b===null||A(b)?!e||u!==a?R(b):(n.exit("tableDelimiterRow"),n.exit("tableHead"),i(b)):R(b)}function R(b){return t(b)}function f(b){return n.enter("tableRow"),I(b)}function I(b){return b===124?(n.enter("tableCellDivider"),n.consume(b),n.exit("tableCellDivider"),I):b===null||A(b)?(n.exit("tableRow"),i(b)):C(b)?y(n,I,"whitespace")(b):(n.enter("data"),M(b))}function M(b){return b===null||b===124||w(b)?(n.exit("data"),I(b)):(n.consume(b),b===92?j:M)}function j(b){return b===92||b===124?(n.consume(b),M):M(b)}}function Sr(n,i){let t=-1,r=!0,u=0,a=[0,0,0,0],e=[0,0,0,0],l=!1,p=0,g,k,o;const x=new kr;for(;++t<n.length;){const h=n[t],F=h[1];h[0]==="enter"?F.type==="tableHead"?(l=!1,p!==0&&(Fn(x,i,p,g,k),k=void 0,p=0),g={type:"table",start:Object.assign({},F.start),end:Object.assign({},F.end)},x.add(t,0,[["enter",g,i]])):F.type==="tableRow"||F.type==="tableDelimiterRow"?(r=!0,o=void 0,a=[0,0,0,0],e=[0,t+1,0,0],l&&(l=!1,k={type:"tableBody",start:Object.assign({},F.start),end:Object.assign({},F.end)},x.add(t,0,[["enter",k,i]])),u=F.type==="tableDelimiterRow"?2:k?3:1):u&&(F.type==="data"||F.type==="tableDelimiterMarker"||F.type==="tableDelimiterFiller")?(r=!1,e[2]===0&&(a[1]!==0&&(e[0]=e[1],o=rn(x,i,a,u,void 0,o),a=[0,0,0,0]),e[2]=t)):F.type==="tableCellDivider"&&(r?r=!1:(a[1]!==0&&(e[0]=e[1],o=rn(x,i,a,u,void 0,o)),a=e,e=[a[1],t,0,0])):F.type==="tableHead"?(l=!0,p=t):F.type==="tableRow"||F.type==="tableDelimiterRow"?(p=t,a[1]!==0?(e[0]=e[1],o=rn(x,i,a,u,t,o)):e[1]!==0&&(o=rn(x,i,e,u,t,o)),u=0):u&&(F.type==="data"||F.type==="tableDelimiterMarker"||F.type==="tableDelimiterFiller")&&(e[3]=t)}for(p!==0&&Fn(x,i,p,g,k),x.consume(i.events),t=-1;++t<i.events.length;){const h=i.events[t];h[0]==="enter"&&h[1].type==="table"&&(h[1]._align=br(i.events,t))}return n}function rn(n,i,t,r,u,a){const e=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",l="tableContent";t[0]!==0&&(a.end=Object.assign({},K(i.events,t[0])),n.add(t[0],0,[["exit",a,i]]));const p=K(i.events,t[1]);if(a={type:e,start:Object.assign({},p),end:Object.assign({},p)},n.add(t[1],0,[["enter",a,i]]),t[2]!==0){const g=K(i.events,t[2]),k=K(i.events,t[3]),o={type:l,start:Object.assign({},g),end:Object.assign({},k)};if(n.add(t[2],0,[["enter",o,i]]),r!==2){const x=i.events[t[2]],h=i.events[t[3]];if(x[1].end=Object.assign({},h[1].end),x[1].type="chunkText",x[1].contentType="text",t[3]>t[2]+1){const F=t[2]+1,z=t[3]-t[2]-1;n.add(F,z,[])}}n.add(t[3]+1,0,[["exit",o,i]])}return u!==void 0&&(a.end=Object.assign({},K(i.events,u)),n.add(u,0,[["exit",a,i]]),a=void 0),a}function Fn(n,i,t,r,u){const a=[],e=K(i.events,t);u&&(u.end=Object.assign({},e),a.push(["exit",u,i])),r.end=Object.assign({},e),a.push(["exit",r,i]),n.add(t+1,0,a)}function K(n,i){const t=n[i],r=t[0]==="enter"?"start":"end";return t[1][r]}const Ar={tokenize:zr},Cr={text:{91:Ar}};function zr(n,i,t){const r=this;return u;function u(p){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?t(p):(n.enter("taskListCheck"),n.enter("taskListCheckMarker"),n.consume(p),n.exit("taskListCheckMarker"),a)}function a(p){return w(p)?(n.enter("taskListCheckValueUnchecked"),n.consume(p),n.exit("taskListCheckValueUnchecked"),e):p===88||p===120?(n.enter("taskListCheckValueChecked"),n.consume(p),n.exit("taskListCheckValueChecked"),e):t(p)}function e(p){return p===93?(n.enter("taskListCheckMarker"),n.consume(p),n.exit("taskListCheckMarker"),n.exit("taskListCheck"),l):t(p)}function l(p){return A(p)?i(p):C(p)?n.check({tokenize:yr},i,t)(p):t(p)}}function yr(n,i,t){return y(n,r,"whitespace");function r(u){return u===null?t(u):i(u)}}function Zr(n){return Tn([Vn,ur(),gr(n),Fr,Cr])}function wr(n,i){const t=Number.parseInt(n,i);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"ï¿½":String.fromCharCode(t)}const Er=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Yr(n){return n.replace(Er,Dr)}function Dr(n,i,t){if(i)return i;if(t.charCodeAt(0)===35){const u=t.charCodeAt(1),a=u===120||u===88;return wr(t.slice(a?2:1),a?16:10)}return fn(t)||n}export{Lr as A,Br as B,Vr as C,Qr as D,_r as E,Bn as F,Rr as G,Tn as H,kt as I,wr as J,mn as a,v as b,an as c,Yr as d,jr as e,y as f,Zr as g,nt as h,qr as i,Pr as j,Hr as k,Jt as l,A as m,Ir as n,Gr as o,N as p,Nr as q,pn as r,W as s,Zt as t,$ as u,Mr as v,Tr as w,Or as x,Ur as y,Wr as z};
